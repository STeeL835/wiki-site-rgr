@using WikiSite.PL.ASP.Models
@model IEnumerable<WikiSite.PL.ASP.Models.UserVM>

@{
	ViewBag.Title = "Все пользователи";
	Layout = "../Shared/_Layout.cshtml";
}

<h1 class="page-header">Управление пользователями</h1>

<!-- Main Actions -->
<div>
	@Html.ActionLink("Добавить пользователя", "Create", null, new { @class = "btn btn-primary" })
	@Html.ActionLink("Проверить данные для входа", "CheckCredentials", null, new { @class = "btn btn-primary" })
</div>

<table class="table table-striped">
	<thead>
	<tr>
		<th>Короткий id</th>
		<th>Никнейм</th>
		<th class="visible-sm">Роль</th>
		<th class="visible-sm">Количество созданных статей</th>
		<th class="visible-sm">Количество редактированных статей</th>
		<th class="visible-sm">Действия</th>
	</tr>
	</thead>
	<tbody>
@foreach (var user in Model)
{
	<tr>
		<td>@user.ShortId</td>
		<td><a href="@Url.Action("Details", "Users", new { id = user.ShortId })" class="btn btn-link btn-xs">@user.Nickname</a></td>
		<td class="visible-sm">@RoleVM.GetRole(user.RoleId).Name</td>
		<td class="visible-sm">#</td>
		<td class="visible-sm">#</td>
		<td class="table-action visible-sm">
			<a href="@Url.Action("Edit", "Users", new { id = user.ShortId })" class="btn btn-primary btn-xs"><i class="fa fa-pencil"></i></a>
			<span>
				<a href="#!" data-toggle="confirm-popover" data-placement="left" class="btn btn-danger btn-xs"><i class="fa fa-trash"></i></a>
				<output hidden>
					<a href="@Url.Action("Delete", "Users", new { id = user.ShortId })" class="btn btn-danger btn-sm">Я уверен, удалить</a>
				</output>
			</span>
		</td>
	</tr>
}
	</tbody>
</table>
